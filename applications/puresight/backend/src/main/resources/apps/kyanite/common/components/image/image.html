<!--/*
  ~
  ~     Copyright (C) 2023 Dynamic Solutions
  ~
  ~     Licensed under the Apache License, Version 2.0 (the "License");
  ~     you may not use this file except in compliance with the License.
  ~     You may obtain a copy of the License at
  ~
  ~         http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~     Unless required by applicable law or agreed to in writing, software
  ~     distributed under the License is distributed on an "AS IS" BASIS,
  ~     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~     See the License for the specific language governing permissions and
  ~     limitations under the License.
  ~
*/-->

<sly data-sly-use.model="pl.ds.starter.puresight.cms.models.ImageComponent">
  <a href="${model.link}" class="" target="${model.openInNewTab && model.link != '' ? '_blank' : ''}">
    <p data-sly-test.description="${model.description}">${description}</p>
    <sly data-sly-test="${!model.assetReference}">
      <div style="padding-top: 40px;" data-sly-unwrap="${!wcmmode.isEdit}">
        <sly data-sly-repeat.paragraph="${resource.children}"
             data-sly-resource="${paragraph.path @ resourceType=paragraph.resourceType}"></sly>
      </div>
    </sly>
    <sly data-sly-test.shadowClass="${model.hasShadow ? 'has-shadow' : ''}"></sly>
    <sly data-sly-test="${!model.isSvg}">
      <figure class="image ${model.style} ${shadowClass}">
        <sly data-sly-test="${model.isVideo}">
          <video class="video__video"
                 width="${model.width}"
                 height="${model.height}"
                 src="${model.assetReference}"
                 data-sly-attribute="${model.attributes}"
                 controlslist="nodownload" preload="none">
          </video>
      </sly>
      <sly data-sly-test="${!model.isVideo}">
        <img class="${model.isRounded ? 'is-rounded' : ''}" src="${model.assetReference}"
             alt="${model.alt}">
      </sly>
      </figure>
    </sly>
    <sly data-sly-test="${model.isSvg}">
      <span class="image ${model.style} ${shadowClass}">${model.assetLink @ context='unsafe'}</span>
    </sly>
  </a>
</sly>